# LoL 대회 시청 도우미 - 개발 계획서

## 1. 프로젝트 개요

**목적**: 리그 오브 레전드 지식이 부족한 시청자들이 대회를 더 재밌게 이해할 수 있도록 돕는 웹사이트

**기술 스택**:

- 프론트엔드: HTML5, CSS3, JavaScript (ES6+) - Vanilla JS
- 데이터: JSON 파일 + Community Dragon CDN (챔피언 이미지)
- 저장소: LocalStorage (브라우저)
- 호스팅: GitHub Pages (정적 사이트)

---

## 2. 사전 준비 작업 (AI 협업 효율화)

### 2.1 프로젝트 구조 표준화

```
PJ.LoL-ViewerHelper/
├── index.html                 # SPA 진입점
├── PLAN.md                    # 개발 계획서 (이 문서)
├── idea.md                    # 아이디어 문서
├── CHANGELOG.md               # 변경 이력 기록
│
├── css/
│   ├── variables.css          # CSS 변수 (색상, 크기, 폰트)
│   ├── reset.css              # CSS 리셋
│   ├── layout.css             # 공통 레이아웃
│   ├── components.css         # 공통 컴포넌트
│   ├── team-setup.css         # 팀 설정 페이지
│   ├── champion-pick.css      # 챔피언 픽 페이지
│   ├── match-view.css         # 경기 상황 페이지
│   └── dictionary.css         # 사전 페이지 (오브젝트/아이템)
│
├── js/
│   ├── app.js                 # 앱 진입점, 라우팅
│   ├── state.js               # 전역 상태 관리
│   │
│   ├── pages/
│   │   ├── TeamSetupPage.js   # 팀 설정 페이지
│   │   ├── ChampionPickPage.js # 챔피언 픽 페이지
│   │   ├── MatchViewPage.js   # 경기 상황 페이지
│   │   ├── ObjectDictPage.js  # 오브젝트 사전 페이지
│   │   └── ItemDictPage.js    # 아이템 사전 페이지
│   │
│   ├── components/
│   │   ├── ChampionGrid.js    # 챔피언 그리드 (드래그 소스)
│   │   ├── TeamSlots.js       # 팀별 챔피언 슬롯 (드롭 타겟)
│   │   ├── PlayerCard.js      # 선수-챔피언 카드
│   │   └── PositionIcon.js    # 포지션 아이콘
│   │
│   ├── services/
│   │   ├── ChampionService.js # 챔피언 데이터 로딩
│   │   ├── ObjectService.js   # 오브젝트 데이터 로딩
│   │   ├── ItemService.js     # 아이템 데이터 로딩
│   │   └── StorageService.js  # LocalStorage 관리
│   │
│   └── utils/
│       ├── dom.js             # DOM 헬퍼
│       ├── dragdrop.js        # 드래그앤드롭 유틸
│       └── constants.js       # 상수 정의
│
├── data/
│   ├── champions.json         # 챔피언 데이터
│   ├── objects.json           # 오브젝트 데이터 (드래곤, 바론 등)
│   └── items.json             # 아이템 데이터
│
└── assets/
    └── icons/                 # 포지션 아이콘 등
```

### 2.2 코딩 컨벤션

**파일 명명 규칙**:

- 페이지/컴포넌트: PascalCase (예: `TeamSetupPage.js`)
- 유틸/서비스: camelCase (예: `dragdrop.js`)
- CSS: kebab-case (예: `team-setup.css`)

**JavaScript 규칙**:

- ES6 모듈 시스템 사용 (`import`/`export`)
- 클래스 기반 컴포넌트 구조
- JSDoc 주석으로 함수/클래스 문서화

**CSS 규칙**:

- CSS 변수로 색상/크기 관리 (`--color-blue-team`, `--color-red-team`)
- BEM 명명법 사용 (`.champion-grid__item--selected`)

### 2.3 이슈 방지를 위한 체크리스트

**개발 전 확인사항**:

- [ ] 변경할 파일의 현재 상태 확인
- [ ] 관련 파일들의 import/export 구조 확인
- [ ] CSS 클래스명 충돌 여부 확인

**개발 후 확인사항**:

- [ ] 브라우저 콘솔 에러 없음
- [ ] 다른 페이지/기능에 영향 없음
- [ ] LocalStorage 데이터 정상 저장/로드

### 2.4 버전 관리

**CHANGELOG.md 형식**:

```markdown
## [버전] - YYYY-MM-DD

### Added
- 새로 추가된 기능

### Changed
- 변경된 기능

### Fixed
- 수정된 버그
```

---

## 3. MVP 기능 상세 명세

### 3.1 페이지 1: 팀 설정 (TeamSetupPage)

**화면 구성**:

```
┌─────────────────────────────────────────────┐
│              팀 설정                         │
├─────────────────────────────────────────────┤
│  블루팀 이름: [____________]                 │
│                                             │
│  포지션    선수 이름                         │
│  ┌─────┐  ┌────────────────┐               │
│  │ TOP │  │                │               │
│  └─────┘  └────────────────┘               │
│  ┌─────┐  ┌────────────────┐               │
│  │ JG  │  │                │               │
│  └─────┘  └────────────────┘               │
│  ... (MID, ADC, SUP)                        │
├─────────────────────────────────────────────┤
│  레드팀 이름: [____________]                 │
│  ... (동일 구조)                             │
├─────────────────────────────────────────────┤
│              [다음 단계 →]                   │
└─────────────────────────────────────────────┘
```

**기능**:

- 블루팀/레드팀 이름 입력
- 각 팀 5명의 선수 이름 입력
- 포지션은 고정 순서: TOP, JG, MID, ADC, SUP
- "다음 단계" 버튼 클릭 시 챔피언 픽 페이지로 이동
- 입력 데이터는 상태에 저장

### 3.2 페이지 2: 챔피언 픽 (ChampionPickPage)

**화면 구성**:

```
┌─────────────────────────────────────────────────────────┐
│                    챔피언 픽                             │
├─────────────────────────────────────────────────────────┤
│  검색: [___________]                                    │
│  ┌────┬────┬────┬────┬────┬────┬────┬────┬────┬────┐   │
│  │가렌│갈리│갱플│...                              │   │
│  ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤   │
│  │    │    │    │...                              │   │
│  └────┴────┴────┴────┴────┴────┴────┴────┴────┴────┘   │
│  (전체 챔피언 그리드 - 드래그 소스)                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┐
│  │ SUP │ ADC │ MID │ JG  │ TOP │ vs  │ TOP │ JG  │ MID │ ADC │ SUP │
│  │선수5│선수4│선수3│선수2│선수1│     │선수1│선수2│선수3│선수4│선수5│
│  │ [ ] │ [ ] │ [ ] │ [ ] │ [ ] │     │ [ ] │ [ ] │ [ ] │ [ ] │ [ ] │
│  └─────┴─────┴─────┴─────┴─────┘     └─────┴─────┴─────┴─────┴─────┘
│       블루팀                             레드팀                      │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  [← 팀 설정]                        [경기 시작 →]        │
└─────────────────────────────────────────────────────────┘
```

**기능**:

- **상단 그리드**: 전체 챔피언 아이콘 + 한글 이름 표시
- **검색**: 한글/영문 챔피언 이름 검색
- **하단 슬롯**: 블루팀(좌), 레드팀(우) 각 5개 슬롯
- **드래그앤드롭**:
  - 상단 → 하단: 챔피언 배치
  - 하단 → 상단: 챔피언 제거
  - 하단 ↔ 하단: 챔피언 교환/이동
- **선택 표시**: 배치된 챔피언은 상단에서 팀 색상 배경 표시
- **슬롯 순서**:
  - 블루팀: SUP(5) → ADC(4) → MID(3) → JG(2) → TOP(1)
  - 레드팀: TOP(1) → JG(2) → MID(3) → ADC(4) → SUP(5)

### 3.3 페이지 3: 경기 상황 (MatchViewPage)

**화면 구성** (좁은 가로폭 최적화):

```
┌───────────────────────────────┐
│   T1     vs     Gen.G         │
├───────────────────────────────┤
│ ┌─────┐        ┌─────┐       │
│ │ 🔵  │  TOP   │ 🔴  │       │
│ │가렌 │        │리븐 │       │
│ │Zeus │        │Doran│       │
│ └─────┘        └─────┘       │
├───────────────────────────────┤
│ ┌─────┐        ┌─────┐       │
│ │ 🔵  │  JG    │ 🔴  │       │
│ │리신 │        │니달리│       │
│ │Oner │        │Peanut│      │
│ └─────┘        └─────┘       │
├───────────────────────────────┤
│  ... (MID, ADC, SUP)          │
└───────────────────────────────┘
```

**기능**:

- 세로 배치로 좁은 가로폭에 최적화
- 포지션별 행 구성: 블루팀(좌) - 포지션 아이콘 - 레드팀(우)
- 각 칸: 챔피언 아이콘, 챔피언 이름, 선수 이름 표시
- 최소 여백으로 영상 시청 시 방해 최소화
- 포지션 순서: TOP → JG → MID → ADC → SUP

---

## 4. 데이터 구조

### 4.1 챔피언 데이터 (champions.json)

```json
{
  "version": "14.x",
  "champions": [
    {
      "id": 86,
      "nameKr": "가렌",
      "nameEn": "Garen",
      "thumbnail": "https://cdn.communitydragon.org/latest/champion/86/square"
    }
  ]
}
```

### 4.2 경기 상태 (state.js)

```javascript
const matchState = {
  blueTeam: {
    name: "T1",
    players: [
      { position: "TOP", name: "Zeus", champion: null },
      { position: "JG", name: "Oner", champion: null },
      { position: "MID", name: "Faker", champion: null },
      { position: "ADC", name: "Gumayusi", champion: null },
      { position: "SUP", name: "Keria", champion: null }
    ]
  },
  redTeam: {
    // 동일 구조
  }
};
```

---

## 5. 개발 단계

### Stage 1: 프로젝트 초기화

- [ ] 폴더 구조 생성
- [ ] CSS 변수 및 리셋 설정
- [ ] 기본 HTML 템플릿 작성
- [ ] 라우팅 시스템 구현 (해시 기반)
- [ ] 상태 관리 모듈 작성

### Stage 2: 챔피언 데이터 준비

- [ ] 사용자 제공 데이터를 champions.json으로 변환
- [ ] ChampionService 구현 (데이터 로딩/캐싱)
- [ ] 챔피언 이미지 URL 검증

### Stage 3: 팀 설정 페이지

- [ ] TeamSetupPage 레이아웃 구현
- [ ] 팀 이름/선수 이름 입력 폼
- [ ] 입력 데이터 상태 저장
- [ ] 다음 페이지 이동 기능

### Stage 4: 챔피언 픽 페이지

- [ ] ChampionGrid 컴포넌트 (전체 챔피언 그리드)
- [ ] 챔피언 검색 기능
- [ ] TeamSlots 컴포넌트 (팀별 슬롯)
- [ ] 드래그앤드롭 구현
  - [ ] 상단 → 하단 배치
  - [ ] 하단 → 상단 제거
  - [ ] 하단 ↔ 하단 교환
- [ ] 선택 상태 표시 (팀 색상)

### Stage 5: 경기 상황 페이지

- [ ] MatchViewPage 레이아웃 (좁은 가로폭)
- [ ] PlayerCard 컴포넌트
- [ ] 포지션 아이콘 표시
- [ ] 반응형 스타일링

### Stage 6: 통합 및 마무리

- [ ] 페이지 간 데이터 연동 확인
- [ ] LocalStorage 저장/복원 테스트
- [ ] 브라우저 호환성 테스트
- [ ] GitHub Pages 배포

---

## 6. 검증 방법

1. **로컬 테스트**: Live Server로 실행
2. **플로우 테스트**: 팀 설정 → 챔피언 픽 → 경기 상황 전체 흐름
3. **드래그앤드롭 테스트**: 모든 케이스 (배치, 제거, 교환)
4. **새로고침 테스트**: LocalStorage 데이터 유지 확인
5. **배포 테스트**: GitHub Pages URL에서 동작 확인

---

## 7. 참고 자료

- Community Dragon CDN: `https://cdn.communitydragon.org/latest/champion/{id}/square`
- 포지션 순서 상수:

```javascript
const POSITIONS = ['TOP', 'JG', 'MID', 'ADC', 'SUP'];
const BLUE_SLOT_ORDER = ['SUP', 'ADC', 'MID', 'JG', 'TOP']; // 좌→우: 5,4,3,2,1
const RED_SLOT_ORDER = ['TOP', 'JG', 'MID', 'ADC', 'SUP'];  // 좌→우: 1,2,3,4,5
```

---

## 8. 다음 단계

1단계 MVP 완료 후 추가 기능 개발은 [PLAN_PHASE2.md](PLAN_PHASE2.md) 참조
